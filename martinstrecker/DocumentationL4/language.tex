
%......................................................................
\subsection{Syntax}

\begin{syntaxdiagram}
  \node[nonterminal] (Program) {Program:};
  \node[junction,right=of Program] (startl1) {};
  \node[junction,right=of startl1] (bl) {};
  \node[junction,right=of bl] (l) {};
  \node[junction,right=of l] (al) {};
  \node[junction,right=of al] (bcd) {};
  \node[junction,right=of bcd,xshift=3mm] (cd) {};
  \node[junction,right=of cd,xshift=3mm] (acd) {};
  \node[junction,right=of acd] (bvd) {};
  \node[junction,right=of bvd,xshift=7mm] (vd) {};
  \node[junction,right=of vd,xshift=7mm] (avd) {};
  \node[junction,right=of avd] (endl1) {$\cdots$};
  \node[junction,below=of startl1,yshift=-10mm] (startl2) {};
  \node[junction,right=of startl2] (brl) {};
  \node[junction,right=of brl] (rl) {};
  \node[junction,right=of brl] (rl) {};
  \node[junction,right=of rl] (arl) {};
  \node[junction,right=of arl] (bass) {};
  \node[junction,right=of bass,xshift=3mm] (ass) {};
  \node[junction,right=of ass,xshift=3mm] (aass) {};
  \node[junction,right=of aass] (endl2) {$\diamond$};

  \node[nonterminal,below=of l] (Lexicon) {Lexicon};
  \node[nonterminal,below=of cd] (ClassDecls) {ClassDecls};
  \node[nonterminal,below=of vd] (GlobalVarDecls) {GlobalVarDecls};
  \node[nonterminal,below=of rl] (Rules) {Rules};
  \node[nonterminal,below=of ass] (Assertions) {Assertions};
  
\graph [use existing nodes] {
startl1 -- bl -- l -- al -- bcd  -- cd -- acd -- bvd -- vd -- avd -> endl1
};
\graph [use existing nodes] {
startl2 -- brl -- rl -- arl -- bass  -- ass -- aass -> endl2
};

\syndiagAlternative{bl}{Lexicon}{Lexicon}{al}
\syndiagAlternative{bcd}{ClassDecls}{ClassDecls}{acd}
\syndiagAlternative{bvd}{GlobalVarDecls}{GlobalVarDecls}{avd}
\syndiagAlternative{brl}{Rules}{Rules}{arl}
\syndiagAlternative{bass}{Assertions}{Assertions}{aass}
\end{syntaxdiagram}


\begin{syntaxdiagram}
  \node[nonterminal] (Lexicon) {Lexicon:};
  \node[junction,right=of Lexicon] (startl1) {};
  \node[terminal,right=of startl1] (lexicon) {\texttt{lexicon}};
  \node[junction,right=of lexicon] (bvar) {};
  \node[terminal,right=of bvar] (var) {\emph{VAR}};
  \node[terminal,right=of var] (arrow) {\texttt{->}};
  \node[terminal,right=of arrow] (string) {\emph{string}};
  \node[junction,right=of string] (astring) {};
  \node[junction,right=of astring] (end) {};
  \node[junction,above=of string] (abs) {};

\graph [use existing nodes] {
startl1 -- lexicon -- bvar -- var -- arrow -- string -- astring -> end
};

\syndiagBridge{astring}{abs}{bvar}
\end{syntaxdiagram}

\begin{syntaxdiagram}
  \node[nonterminal] (GlobalVarDecls) {GlobalVarDecls:};
  \node[junction,right=of GlobalVarDecls] (start) {};
  \node[junction,right=of start] (bdecl) {};
  \node[terminal,right=of bdecl] (decl) {\texttt{decl}};
  \node[nonterminal,right=of decl] (VarDecl) {VarDecl};
  \node[junction,right=of VarDecl] (aVarDecl) {};
  \node[junction,right=of aVarDecl] (end) {};
  \node[junction,above=of VarDecl] (abv) {};

\graph [use existing nodes] {
start -- bdecl -- decl -- VarDecl -- aVarDecl -> end
};

\syndiagBridge{aVarDecl}{abv}{bdecl}
\end{syntaxdiagram}

\begin{syntaxdiagram}
  \node[nonterminal] (VarDecl) {VarDecl:};
  \node[junction,right=of VarDecl] (start) {};
  \node[junction,right=of start] (bvar) {};
  \node[terminal,right=of bvar] (var) {\emph{VAR}};
  \node[terminal,right=of var] (colon) {\texttt{:}};
  \node[nonterminal,right=of colon] (Tp) {Tp};
  \node[junction,right=of Tp] (aTp) {};
  \node[junction,right=of aTp] (end) {};

\graph [use existing nodes] {
start -- bvar -- var -- colon -- Tp -- aTp -> end
};
\end{syntaxdiagram}

\begin{syntaxdiagram}
  \node[nonterminal] (Rules) {Rules:};
  \node[junction,right=of Rules] (start) {};
  \node[junction,right=of start] (brule) {};
  \node[nonterminal,right=of brule] (Fact) {Fact};
  \node[junction,right=of Fact] (arule) {};
  \node[junction,right=of arule] (end) {};
  \node[junction,above=of Fact] (abfact) {};
  \node[nonterminal,below=of Fact] (Rule) {Rule};

\graph [use existing nodes] {
start -- brule -- Fact -- arule -> end
};

\syndiagBridge{arule}{abfact}{brule}
%\syndiagAlternative{brule}{Fact}{Fact}{arule}
\syndiagAlternative{brule}{Rule}{Rule}{arule}

\end{syntaxdiagram}


\begin{syntaxdiagram}
  \node[nonterminal] (Assertions) {Assertions:};
  \node[junction,right=of Assertions] (start) {};
  \node[junction,right=of start] (bassert) {};
  \node[terminal,right=of bassert] (assert) {\texttt{assert}};
  \node[nonterminal,right=of assert] (expr) {Expr};
  \node[junction,right=of expr] (aexpr) {};
  \node[junction,right=of aexpr] (end) {};
  \node[junction,below=of expr] (blexpr) {};
  \node[junction,above=of expr] (abexpr) {};

\graph [use existing nodes] {
start -- bassert -- assert -- expr -- aexpr -> end
};

\syndiagBridge{aexpr}{abexpr}{bassert}
\syndiagBridge{bassert}{blexpr}{aexpr}

\end{syntaxdiagram}


%......................................................................
\subsection{Typing}




%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:
